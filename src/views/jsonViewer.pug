html
    head
        title JSON Viewer - #{name}
        style.
            html, body {
                margin: 0;
                padding: 0;
            }
            #container {
                height: 100vh;
                overflow: hidden;
            }
        script(src='https://unpkg.com/monaco-editor@0.30.1/min/vs/loader.js')

    body 
        h1= title
        div#container(style={
            "width": "100%",
            "height": "100%",
        })
        script.
            require.config({ paths: { 'vs': 'https://unpkg.com/monaco-editor@latest/min/vs' }});
            window.MonacoEnvironment = { getWorkerUrl: () => proxy };
            
            let proxy = URL.createObjectURL(new Blob([`
                self.MonacoEnvironment = {
                    baseUrl: 'https://unpkg.com/monaco-editor@latest/min/'
                };
                importScripts('https://unpkg.com/monaco-editor@latest/min/vs/base/worker/workerMain.js');
            `], { type: 'text/javascript' }));
            
            require(["vs/editor/editor.main"], function () {
                let editor = monaco.editor.create(document.getElementById('container'), {
                    value: `!{data}`,
                    language: 'json',
                    theme: 'vs-dark',
                    readOnly: true,
                });
            });